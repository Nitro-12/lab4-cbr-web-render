<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ö—É—Ä—Å—ã –¶–ë –†–§</title>
  <link rel="stylesheet" href="/static/style.css" />
  <style>
    /* –†–æ–≤–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–µ—Ç–∫–∞ */
    table{ table-layout: fixed; }
    .num{
      text-align:right;
      white-space:nowrap;
      font-variant-numeric: tabular-nums;
      font-feature-settings: "tnum" 1, "lnum" 1;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
                   "Liberation Mono", "Roboto Mono", monospace;
    }
    .code{ white-space:nowrap; }
    .name{ white-space:normal; }

    /* –¢—É–ª—Ç–∏–ø –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ */
    #chart-tooltip{
      position:absolute; pointer-events:none; display:none;
      background:#0b1220; color:#fff; padding:6px 8px;
      border-radius:8px; font:12px system-ui, -apple-system, Segoe UI, Roboto;
      box-shadow:0 6px 16px rgba(0,0,0,.25); z-index:3;
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="page-header">
      <div class="title-wrap">
        <h1>–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç –¶–ë –†–§</h1>
        <p class="muted">–¢–∞–±–ª–∏—Ü–∞, –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä –∏ –≥—Ä–∞—Ñ–∏–∫ –∫—É—Ä—Å–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥.</p>
      </div>
      <div class="actions">
        <button id="toggle-theme" class="btn ghost" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåì</button>
      </div>
    </header>

    <section class="card">
      <div class="card-head">
        <h2>–ö—É—Ä—Å—ã –Ω–∞ –¥–∞—Ç—É</h2>
        <div class="controls">
          <label>–î–∞—Ç–∞
            <input id="date-input" type="date" placeholder="–≥–≥–≥–≥-–º–º-–¥–¥" />
          </label>
          <button id="btn-load" class="btn primary">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
          <a id="btn-export" class="btn" href="#" download>–≠–∫—Å–ø–æ—Ä—Ç CSV</a>
          <span id="date-label" class="muted"></span>
        </div>
      </div>

      <div class="toolbar">
        <label class="grow">–§–∏–ª—å—Ç—Ä
          <input id="filter" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: usd, –¥–æ–ª–ª–∞—Ä" />
        </label>
        <span class="muted small" id="count-label"></span>
      </div>

      <div class="table-wrap">
        <table id="rates-table">
          <!-- —Ñ–∏–∫—Å–∏—Ä—É–µ–º —à–∏—Ä–∏–Ω—ã –∫–æ–ª–æ–Ω–æ–∫, —á—Ç–æ–±—ã –Ω–∏—á–µ–≥–æ –Ω–µ ¬´–µ—Ö–∞–ª–æ¬ª -->
          <colgroup>
            <col style="width:80px" />
            <col style="width:110px" />
            <col style="width:170px" />
            <col style="width:160px" />
            <col />
          </colgroup>
          <thead>
            <tr>
              <th data-sort="char_code">–ö–æ–¥</th>
              <th data-sort="nominal">–ù–æ–º–∏–Ω–∞–ª</th>
              <th data-sort="value">RUB –∑–∞ –Ω–æ–º–∏–Ω–∞–ª</th>
              <th data-sort="per1">RUB –∑–∞ 1</th>
              <th data-sort="name" class="w-name">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <div id="loader" class="loader hidden">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
      </div>
    </section>

    <section class="card">
      <div class="card-head">
        <h2>–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä</h2>
      </div>
      <div class="grid grid-5">
        <label>–ò–∑
          <input id="from-code" list="codes" placeholder="USD" />
        </label>
        <div class="swap-wrap">
          <button id="btn-swap" class="btn">‚áÑ</button>
        </div>
        <label>–í
          <input id="to-code" list="codes" placeholder="RUB" />
        </label>
        <label>–°—É–º–º–∞
          <input id="amount" type="number" step="0.01" value="1" />
        </label>
        <label>–î–∞—Ç–∞
          <input id="date-conv" type="date" placeholder="–≥–≥–≥–≥-–º–º-–¥–¥" />
        </label>
      </div>
      <div class="row mt">
        <button id="btn-convert" class="btn primary">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
        <div id="conv-result" class="result grow"></div>
      </div>
    </section>

    <section class="card">
      <div class="card-head">
        <h2>–ì—Ä–∞—Ñ–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—É—Ä—Å–∞</h2>
      </div>
      <div class="grid grid-graph">
        <label>–í–∞–ª—é—Ç–∞
          <input id="hist-code" list="codes" placeholder="USD"/>
        </label>
        <label>–ü–µ—Ä–∏–æ–¥ —Å
          <input id="hist-from" type="date"/>
        </label>
        <label>–ø–æ
          <input id="hist-to" type="date"/>
        </label>
        <button id="btn-history" class="btn primary">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å</button>
      </div>
      <div class="chart-wrap" style="position:relative">
        <canvas id="chart" width="1000" height="360"></canvas>
        <div id="chart-tooltip"></div>
        <div id="chart-empty" class="muted small center">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞–ª—é—Ç—É –∏ –ø–µ—Ä–∏–æ–¥, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ ¬´–ü–æ—Å—Ç—Ä–æ–∏—Ç—å¬ª</div>
      </div>
    </section>

    <footer class="muted center small mt-lg">
      API: <code>/cbr/daily</code> ¬∑ <code>/cbr/convert</code> ¬∑ <code>/cbr/daily.csv</code> ¬∑ <code>/cbr/history</code>
    </footer>
  </div>

  <datalist id="codes">
    {% for c in codes %}
      <option value="{{ c }}"></option>
    {% endfor %}
  </datalist>

  <div id="toast" class="toast hidden"></div>

  <script src="/static/app.js"></script>
</body>
</html>
